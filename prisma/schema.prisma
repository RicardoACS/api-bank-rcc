generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model account {
  account_id   Int            @id @default(autoincrement())
  number       String
  user_id      Int
  ammount      Int
  user         user           @relation(fields: [user_id], references: [user_id])
  destination  destination[]
  transactions transactions[]
}

model bank {
  bank_id     Int           @id @default(autoincrement())
  name        String
  destination destination[]
}

model destination {
  destination_id Int            @id @default(autoincrement())
  rut            String
  name           String
  email          String
  created        DateTime
  account_number String
  account_id     Int
  bank_id        Int
  account        account        @relation(fields: [account_id], references: [account_id])
  bank           bank           @relation(fields: [bank_id], references: [bank_id])
  transactions   transactions[]
}

model transactions {
  transaction_id      Int               @id @default(autoincrement())
  created             DateTime
  ammount             Int
  description         String?
  transaction_type_id Int
  account_id          Int
  destination_id      Int?
  account             account           @relation(fields: [account_id], references: [account_id])
  destination         destination?      @relation(fields: [destination_id], references: [destination_id])
  transactions_type   transactions_type @relation(fields: [transaction_type_id], references: [transactions_type_id])
}

model transactions_type {
  transactions_type_id Int            @id @default(autoincrement())
  description          String
  transactions         transactions[]
}

model user {
  user_id  Int       @id @default(autoincrement())
  rut      String
  name     String
  email    String
  password String 
  created  DateTime
  account  account[]
}
